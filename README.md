# bitcoin-mining-hashpower-centralisation-ABM
NetLogo Agent-based Model showing the phenomenon of bitcoin mining hash power centralisation.

The objective of this simplified model is to simulate mining pools operating on Bitcoin with a particular focus on the centralisation of miners over time as the Bitcoin block reward is reduced to only transaction fees. This model allows the user to observe the potential outcome of different miners’ strategies, with the objective of identifying the most advantageous strategy. 

This model was inspired by the concept of miner centralisation within Bitcoin and the effects of this. This concept is very interesting as Bitcoin itself was designed to disintermediate the global payment system. Once this particular aspect of the multifaceted Bitcoin was chosen as the focus of the model, the relevant actors were identified. The key actors of this model are the two different types of miners; risk-averse and risk-taking. Risk-averse miners will not take risks, at least not in addition to mining Bitcoin. They will not hold any BTC received through block rewards, in the hope that the price increases. Rather they instantly sell BTC in exchange for fiat. This is in contrast to risk-taking miners who will speculate on the BTC price rising by holding block rewards under certain conditions. 

The miners do not directly interact with each other. Rather, they interact indirectly through the cost of mining which is a global variable. If a miner ceases operation due to not having a sufficient amount of fiat to cover the mining costs, they are removed from the model world and consequently the cost of mining is reduced by the percentage drop of miners in that specific time step. Each time step represents one month. The miners interact with the environment through several global variables; mining-cost, current-market-price, previous-market-price and the current-era-reward. If the mining-cost is equal to or less than the miner’s current fiat-account-balance, the miner will continue mining. The initial fiat-account-balance for each miner is determined by the initial mining-cost multiplied by the total number of miners. The difference between the current-market-price and previous-market-price of BTC determines whether risk-taking miners will claim a block reward and sell the BTC in that time-step. Therefore it can be argued that risk-taking-miners are reflexive. The current-market-price determines a miner’s fiat gains from the sale of BTC. The current-era-reward determines the BTC reward for one randomly selected miner per time step. The current-era-reward is reduced by 50% every 48 months, or 48-time steps. This represents the true behaviour of Bitcoin whereby the block reward is halved every 4 years as per Appendix B. It provides further details on the controlled supply mechanism of Bitcoin, specifically the rate of inflation and expected mining rewards. It shows that the block reward ceases after 0.00000001 BTC. At this point the incentive to mine becomes transaction fees which are represented in the model by a perpetual 0.00000001 BTC block reward. 

Within the model, risk-averse-miners’ interact with themselves as regardless of the environment, if their current-reward property is greater than 0, they will transfer this BTC instantly to their current-bitcoin-balance in order to sell. The global variables, which make up the environment, interact with each other. The global variable year-counter increments by one every time step. In order to calibrate the current era reward per time step, the year-counter is divided by 48, representing 4 years. If the output is 0, the current-era-reward will half. Otherwise it will move on to the next procedure as part of the run time. To determine the current-market-price a pseudorandom number generator is used to draw a number between the global variables min-long-term-price-prediction and max-long-term-price-prediction, which have their values determined by the model user. The model has a built-in procedure named calibrate-new-cost-to-mine. Within this procedure, three global variables interact with each other. If the current mining-cost is greater than the current-market-price multiplied by the current-era-reward, the mining-cost will be reduced by 10%. This is to reflect the fact that miners must have an incentive to mine. That is, the rewards should normally be greater than the cost of mining. In order to achieve the model objective, the global variable centralisation is gauged by the distribution of hashpower. This is analogous to market share. This market share split is calculated every time step by dividing 100 by the number of miners who are operating during that time step. Appendix C provides statistics related to the real Bitcoin hashrate distribution, calculated by blocks mined. These figures were used to calibrate the minimum, maximum and default number of miners that can be selected for the model.  

Every miner has the following properties: hashpower-count, current-fiat-account-balance, current-bitcoin-balance, total-reward and current-reward. All of these properties are mutable and numeric and none of them are observable to other miners. Hashpower-count is not used within this implementation, however, it uses the same deterministic function as the global variable centralisation. Current-fiat-account-balance will decrease as miners mine and increase if miners sell BTC they have been allocated through a block reward. Current-bitcoin-balance will increase if miners are allocated a block reward and decrease if miners sell their BTC. Total-reward will only increase as miners are allocated BTC through a block reward. Current-reward will increase as miners are allocated BTC through a block reward but will decrease as miners transfer these rewards to their current-bitcoin-balance.  

Due to the size and complexity of Bitcoin and the exchange market, and the limited computational power available, the model is a simplified representation of the ecosystem. Every time-step represents one month, even though there are on average 144 blocks mined in one day on Bitcoin. Therefore one block reward randomly allocated to one miner every time step is abstract. Additionally, even though the exchange market is 24/7, the model price changes only occur every time step. With additional computational power and available time, this could be made more realistic.  

The inputs to the model are the initial-BTC-price, which should be sourced online, the min-long-term-price-prediction and max-long-term-price-prediction by the model user and the BTC-reward-per-block which should be sourced online. Additionally, there are three sliders to which the model user can adjust; cost-to-mine, number-of-risk-averse-miners and number-of-risk-taking miners. Appendix D shows the numbers used to calculate the average cost to mine one Bitcoin globally. This was used to calibrate the default number for the cost-to-mine slider as well as the minimum and maximum values. The model outputs, in the form of reporters, are the current cost to mine, current era BTC reward, current BTC price, previous BTC price and price change between time steps. The model outputs, in the form of plots, are a time-series of the BTC market price, a histogram showing the miner reward distribution, a line graph showing the number of each type of miner that are still operating over time and a line graph showing the centralisation of miners over time.   

